!function(){"use strict";var e=document.querySelectorAll(".needs-validation"),d=10,t=new Date,t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=($("#duedate-input").datepicker("setDate",t),document.querySelector("#project-image-input").addEventListener("change",function(){var e=document.querySelector("#projectlogo-img"),t=document.querySelector("#project-image-input").files[0],a=new FileReader;a.addEventListener("load",function(){e.src=a.result},!1),t&&a.readAsDataURL(t)}),sessionStorage.getItem("editInputValue"));n&&(n=JSON.parse(n),document.getElementById("formAction").value="edit",document.getElementById("project-id-input").value=n.id,document.getElementById("projectlogo-img").src=n.projectLogoImg,document.getElementById("projectname-input").value=n.projectTitle,document.getElementById("projectdesc-input").value=n.projectDesc,document.getElementById("project-status-input").value=n.status,$("#duedate-input").datepicker("setDate",n.dueDate),Array.from(document.querySelectorAll("#select-element .dropdown-menu ul li a")).forEach(function(a){var o=a.querySelector(".flex-grow-1").innerHTML;n.assignedto.map(function(e){var t;return e.assigneeName==o&&(a.classList.add("active"),t=document.getElementById("assignee-member"),a.classList.contains("active"))&&(e='<a href="javascript: void(0);" class="avatar-group-item mb-2" data-img="'+e.assigneeImg+'"  data-bs-toggle="tooltip" data-bs-placement="top" title="'+e.assigneeName+'">                        <img src="'+e.assigneeImg+'" alt="" class="rounded-circle avatar-xs" />                        </a>',t.insertAdjacentHTML("beforeend",e)),a})}),t=document.querySelectorAll("#select-element .dropdown-menu .dropdown-item.active").length,document.getElementById("total-assignee").innerHTML=t),Array.prototype.slice.call(e).forEach(function(u){u.addEventListener("submit",function(e){var t,a,o,n,r,i,s,c,l;if(u.checkValidity())return e.preventDefault(),c=++d,t=document.getElementById("projectname-input").value,a=document.getElementById("projectdesc-input").value,o=document.getElementById("projectlogo-img").src,n=document.getElementById("project-status-input").value,r=document.getElementById("duedate-input").value,i=[],0<(s=document.querySelectorAll("#select-element .assignto-list li a.active")).length&&Array.from(s).forEach(function(e){var t=e.querySelector(".avatar-xs img").getAttribute("src"),e=e.querySelector(".flex-grow-1").innerHTML,a={};a.assigneeName=e,a.assigneeImg=t,i.push(a)}),"add"==(s=document.getElementById("formAction").value)?(null!=sessionStorage.getItem("inputValue")?(l=JSON.parse(sessionStorage.getItem("inputValue"))).push({id:c+1,projectLogoImg:o,projectTitle:t,projectDesc:a,dueDate:r,status:n,assignedto:i}):(l=[]).push({id:c,projectLogoImg:o,projectTitle:t,projectDesc:a,dueDate:r,status:n,assignedto:i}),sessionStorage.setItem("inputValue",JSON.stringify(l))):"edit"==s?(c=document.getElementById("project-id-input").value,sessionStorage.getItem("editInputValue")&&(l={id:parseInt(c),projectLogoImg:o,projectTitle:t,projectDesc:a,dueDate:r,status:n,assignedto:i},sessionStorage.setItem("editInputValue",JSON.stringify(l)))):console.log("Form Action Not Found."),window.location.replace("/projects/projectslist"),!1;e.preventDefault(),e.stopPropagation(),u.classList.add("was-validated")},!1)}),Dropzone.autoDiscover=!1,new Dropzone("div#myId",{url:"https://httpbin.org/post"});Array.from(document.querySelectorAll("#select-element .assignto-list li a")).forEach(function(o){o.addEventListener("click",function(){o.classList.toggle("active");var e,t=document.querySelectorAll("#select-element .assignto-list li a.active"),a=(document.getElementById("total-assignee").innerHTML=t.length,o.querySelector(".avatar-xs img").getAttribute("src")),t=document.getElementById("assignee-member");o.classList.contains("active")?(e=o.querySelector(".flex-grow-1").innerHTML,t.insertAdjacentHTML("beforeend",'<a href="javascript: void(0);" class="avatar-group-item mb-2" data-img="'+a+'"  data-bs-toggle="tooltip" data-bs-placement="top" title="'+e+'">                <img src="'+a+'" alt="" class="rounded-circle avatar-xs" />                </a>')):Array.from(t.querySelectorAll(".avatar-group-item")).forEach(function(e){var t=e.getAttribute("data-img");a==t&&e.remove()}),e=document.querySelectorAll('[data-bs-toggle="tooltip"]'),[].concat(function(e){{if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}}(e)).map(function(e){return new bootstrap.Tooltip(e)})})})}();