var url="/static/json/",allProductList="",editList=!1,getJSON=function(t,e){var r=new XMLHttpRequest;r.open("GET",url+t,!0),r.responseType="json",r.onload=function(){var t=r.status;e(200===t?null:t,r.response)},r.send()};function loadProductData(t){document.querySelector("#product-list").innerHTML="",t.forEach(function(t,e){var r=t.discount?'<div class="avatar-sm product-ribbon">        <span class="avatar-title rounded-circle bg-primary">'+t.discount+"</span>    </div>":"";document.querySelector("#product-list").innerHTML+='<div class="col-xl-4 col-sm-6">        <div class="card">            <div class="card-body">                <div class="product-img position-relative">                    '+r+'                    <img src="'+t.productImg+'" alt="" class="img-fluid mx-auto d-block">                </div>                <div class="mt-4 d-flex align-items-center">                    <div class="flex-grow-1">                    <h5 class="mb-1 text-truncate"><a href="javascript: void(0);" class="text-dark">'+t.productName+'</a></h5>                    <div class="badge bg-success font-size-11"><i class="bx bxs-star me-1"></i>'+t.rating+'</div>                    </div>                    <div class="flex-shrink-0">                        <h5 class="my-0"><b>'+t.productPrice+"</b></h5>                    </div>                </div>            </div>        </div>    </div>"})}getJSON("ecommerce-product-list.json",function(t,e){null!==t?console.log("Something went wrong: "+t):loadProductData(allProductList=e)}),Array.from(document.querySelectorAll(".product-list a")).forEach(function(r){r.addEventListener("click",function(){var t=document.querySelector(".file-manager-menu a.active"),e=(t&&t.classList.remove("active"),r.classList.add("active"),r.querySelector(".tablist-name").innerHTML);document.getElementById("product-list").innerHTML="",loadProductData("All"!=e?allProductList.filter(function(t){return t.category===e}):allProductList)})}),$(document).ready(function(){var e,r;$("#pricerange").ionRangeSlider({skin:"square",type:"double",grid:!0,min:0,max:1e3,from:100,to:800,prefix:"$",onChange:function(t){e=t.from,r=t.to,loadProductData(filterDataAll=allProductList.filter(function(t){t=t.productPrice.split("$");return parseFloat(t[1])>=e&&parseFloat(t[1])<=r}))}})});var searchProductList=document.getElementById("searchProductList"),arraylist=(searchProductList.addEventListener("keyup",function(){var e,t=searchProductList.value.toLowerCase();e=t,loadProductData(allProductList.filter(function(t){return-1!==t.productName.toLowerCase().indexOf(e.toLowerCase())}))}),[]);document.querySelectorAll("#discount-filter .form-check").forEach(function(r){var a=r.querySelector(".form-check-input").value;r.querySelector(".form-check-input").addEventListener("change",function(){r.querySelector(".form-check-input").checked?arraylist.push(a):arraylist.splice(arraylist.indexOf(a),1);var e,t=allProductList;loadProductData(filterDataAll=r.querySelector(".form-check-input").checked&&0==a?t.filter(function(t){if(t.discount)return t=t.discount.split("%"),parseFloat(t[0])<10}):r.querySelector(".form-check-input").checked&&0<arraylist.length?(e=Math.min.apply(Math,arraylist),t.filter(function(t){if(t.discount)return t=t.discount.split("%"),parseFloat(t[0])>=e})):allProductList)})}),document.querySelectorAll("#rating-filter .form-check").forEach(function(r){var a=r.querySelector(".form-check-label .rate-value").innerHTML;r.querySelector(".form-check-input").addEventListener("change",function(){r.querySelector(".form-check-input").checked?arraylist.push(a):arraylist.splice(arraylist.indexOf(a),1);var e,t=allProductList;loadProductData(filterDataAll=r.querySelector(".form-check-input").checked&&1==a?t.filter(function(t){if(t.discount)return t=t.rating,1==parseFloat(t)}):r.querySelector(".form-check-input").checked&&0<arraylist.length?(e=Math.min.apply(Math,arraylist),t.filter(function(t){if(t.rating)return t=t.rating,parseFloat(t)>=e})):allProductList)})});